// Prisma database schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Universities {

    id    Int    @id @default(autoincrement())
    code String
    name String
    faculties Faculties[]
    programmes Programme[]
    
}

model Faculties {

    id         Int         @id @default(autoincrement())
    name     String
    university Universities? @relation(fields: [universityId], references: [id])
    universityId Int
    programmes  Programme[]

}

model Curriculum {

    id Int @id @default(autoincrement())
    name String
    subjects Subject[]

}

model Subject {

    id         Int    @id @default(autoincrement())
    title      String
    discipline String
    grade Int
    curriculum Curriculum? @relation(fields: [curriculumid], references: [id])
    curriculumid Int
    requirement Requirement[] 

}

model Grade {
  
    id Int @id @default(autoincrement())
    grade Int
    requirements Requirement[]
  
}

model Programme {

  id Int @id @default(autoincrement())
  title String
  description String
  faculty Faculties? @relation(fields: [facultyid], references: [id])
  university Universities? @relation(fields: [universityid], references: [id])
  facultyid Int
  universityid Int
  requirements Requirement[]

}

model Requirement {

  id Int @id @default(autoincrement())
  programme Programme? @relation(fields: [programmeId], references: [id])
  programmeId Int
  subject Subject? @relation(fields: [subjectId], references: [id])
  subjectId Int
  grade Grade? @relation(fields: [gradeId], references: [id])
  gradeId Int

}



